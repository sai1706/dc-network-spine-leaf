! LEAF-1 Configuration
! Top-of-Rack Switch - Rack 1
!
hostname LEAF-1
!
! Loopback for BGP Router ID
interface Loopback0
  description BGP Router ID
  ip address 10.0.0.11/32
  no shutdown
!
! Uplink to SPINE-1
interface Ethernet1/49
  description P2P to SPINE-1 Eth1/1
  no switchport
  mtu 9216
  ip address 10.1.1.1/31
  no shutdown
!
! Uplink to SPINE-2
interface Ethernet1/50
  description P2P to SPINE-2 Eth1/1
  no switchport
  mtu 9216
  ip address 10.1.2.1/31
  no shutdown
!
! Uplink to SPINE-3
interface Ethernet1/51
  description P2P to SPINE-3 Eth1/1
  no switchport
  mtu 9216
  ip address 10.1.3.1/31
  no shutdown
!
! Uplink to SPINE-4
interface Ethernet1/52
  description P2P to SPINE-4 Eth1/1
  no switchport
  mtu 9216
  ip address 10.1.4.1/31
  no shutdown
!
! Server-facing port example
interface Ethernet1/1
  description Server-01
  switchport mode access
  switchport access vlan 100
  spanning-tree port type edge
  no shutdown
!
! Server VLAN Gateway
interface Vlan100
  description Server Subnet - Rack 1
  ip address 10.10.1.1/24
  no shutdown
!
! BGP Configuration
router bgp 65011
  router-id 10.0.0.11
  log-neighbor-changes
  maximum-paths 4
  !
  ! Advertise server subnet
  network 10.10.1.0/24
  !
  ! Neighbors to all 4 spines
  neighbor 10.1.1.0 remote-as 65001
  neighbor 10.1.1.0 description SPINE-1
  !
  neighbor 10.1.2.0 remote-as 65002
  neighbor 10.1.2.0 description SPINE-2
  !
  neighbor 10.1.3.0 remote-as 65003
  neighbor 10.1.3.0 description SPINE-3
  !
  neighbor 10.1.4.0 remote-as 65004
  neighbor 10.1.4.0 description SPINE-4
!
end
